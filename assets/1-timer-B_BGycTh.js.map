{"version":3,"file":"1-timer-B_BGycTh.js","sources":["../../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport iziToast from \"izitoast\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nexport function createTimer() {\n  const timerInput = document.querySelector(\"#datetime-picker\");\n  const startButton = document.querySelector(\"[data-start]\");\n  const stopButton = document.querySelector(\"[data-stop]\");\n  const resetButton = document.querySelector(\"[data-reset]\"); // Кнопка Reset\n  const daysSpan = document.querySelector(\"[data-days]\");\n  const hoursSpan = document.querySelector(\"[data-hours]\");\n  const minutesSpan = document.querySelector(\"[data-minutes]\");\n  const secondsSpan = document.querySelector(\"[data-seconds]\");\n\n  let countdownDate = null;\n  let timerInterval = null;\n\n  stopButton.disabled = true;\n  resetButton.disabled = true; // Кнопка Reset спочатку вимкнена\n\n  function updateTimer() {\n    const now = new Date();\n    const timeLeft = countdownDate - now;\n\n    if (timeLeft <= 0) {\n      clearInterval(timerInterval);\n      localStorage.removeItem(\"countdownDate\");\n      daysSpan.textContent = \"00\";\n      hoursSpan.textContent = \"00\";\n      minutesSpan.textContent = \"00\";\n      secondsSpan.textContent = \"00\";\n      iziToast.success({\n        title: \"Completed\",\n        message: \"The countdown has ended!\",\n        position: \"topRight\",\n      });\n      return;\n    }\n\n    const days = String(Math.floor(timeLeft / (1000 * 60 * 60 * 24))).padStart(2, \"0\");\n    const hours = String(Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60))).padStart(2, \"0\");\n    const minutes = String(Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60))).padStart(2, \"0\");\n    const seconds = String(Math.floor((timeLeft % (1000 * 60)) / 1000)).padStart(2, \"0\");\n\n    daysSpan.textContent = days;\n    hoursSpan.textContent = hours;\n    minutesSpan.textContent = minutes;\n    secondsSpan.textContent = seconds;\n  }\n\n  function startTimer() {\n    startButton.disabled = true;\n    stopButton.disabled = false;\n    resetButton.disabled = false; // Активуємо кнопку Reset\n    timerInput.disabled = true;\n    localStorage.setItem(\"countdownDate\", countdownDate);\n    updateTimer();\n    timerInterval = setInterval(updateTimer, 1000);\n  }\n\n  function stopTimer() {\n    clearInterval(timerInterval);\n    localStorage.removeItem(\"countdownDate\");\n    startButton.disabled = false;\n    stopButton.disabled = true;\n    resetButton.disabled = false; // Кнопка Reset залишиться активною\n    iziToast.info({\n      title: \"Stopped\",\n      message: \"The countdown has been stopped.\",\n      position: \"topRight\",\n    });\n  }\n\n  function resetTimer() {\n    clearInterval(timerInterval); // Зупиняємо таймер\n    localStorage.removeItem(\"countdownDate\");\n    daysSpan.textContent = \"00\";\n    hoursSpan.textContent = \"00\";\n    minutesSpan.textContent = \"00\";\n    secondsSpan.textContent = \"00\";\n    startButton.disabled = false; // Активуємо кнопку Start\n    stopButton.disabled = true; // Деактивуємо кнопку Stop\n    resetButton.disabled = true; // Деактивуємо кнопку Reset\n    timerInput.disabled = false; // Дозволяємо вибір нової дати\n    iziToast.info({\n      title: \"Reset\",\n      message: \"The timer has been reset. Please choose a new date.\",\n      position: \"topRight\",\n    });\n  }\n\n  function restoreTimer() {\n    const savedDate = localStorage.getItem(\"countdownDate\");\n    if (savedDate) {\n      countdownDate = new Date(savedDate);\n      if (countdownDate > new Date()) {\n        startTimer();\n      } else {\n        localStorage.removeItem(\"countdownDate\");\n      }\n    }\n  }\n\n  startButton.disabled = true;\n\n  flatpickr(timerInput, {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n      const selectedDate = selectedDates[0];\n\n      if (!selectedDate || selectedDate <= new Date()) {\n        iziToast.error({\n          title: \"Error\",\n          message: \"Please choose a date in the future\",\n          position: \"topRight\",\n        });\n        startButton.disabled = true;\n      } else {\n        countdownDate = selectedDate;\n        startButton.disabled = false;\n      }\n    },\n  });\n\n  startButton.addEventListener(\"click\", startTimer);\n  stopButton.addEventListener(\"click\", stopTimer);\n  resetButton.addEventListener(\"click\", resetTimer); // Обробник події для кнопки Reset\n\n  restoreTimer();\n}\n"],"names":["createTimer","timerInput","startButton","stopButton","resetButton","daysSpan","hoursSpan","minutesSpan","secondsSpan","countdownDate","timerInterval","updateTimer","timeLeft","iziToast","days","hours","minutes","seconds","startTimer","stopTimer","resetTimer","restoreTimer","savedDate","flatpickr","selectedDates","selectedDate"],"mappings":"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"}